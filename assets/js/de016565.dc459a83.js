"use strict";(self.webpackChunktse_dev_api=self.webpackChunktse_dev_api||[]).push([[8091],{2136:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var i=t(4848),a=t(8453),s=t(1470),r=t(9365);const l={sidebar_position:5,title:"E-Invoice XML customization",slug:"e-invoice-xml-customisation",description:"Customize additional e-invoice XML fields",tags:["guides","issued document","invoice","e-invoice","sdi","xml","document type","code example","c#","java","javascript","php","python","ruby","typescript"]},o=void 0,c={id:"scenario/e-invoice-xml-customisation",title:"E-Invoice XML customization",description:"Customize additional e-invoice XML fields",source:"@site/docs/scenario/e-invoice-xml-customisation.mdx",sourceDirName:"scenario",slug:"/scenario/e-invoice-xml-customisation",permalink:"/develop/docs/scenario/e-invoice-xml-customisation",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/scenario/e-invoice-xml-customisation.mdx",tags:[{inline:!0,label:"guides",permalink:"/develop/docs/tags/guides"},{inline:!0,label:"issued document",permalink:"/develop/docs/tags/issued-document"},{inline:!0,label:"invoice",permalink:"/develop/docs/tags/invoice"},{inline:!0,label:"e-invoice",permalink:"/develop/docs/tags/e-invoice"},{inline:!0,label:"sdi",permalink:"/develop/docs/tags/sdi"},{inline:!0,label:"xml",permalink:"/develop/docs/tags/xml"},{inline:!0,label:"document type",permalink:"/develop/docs/tags/document-type"},{inline:!0,label:"code example",permalink:"/develop/docs/tags/code-example"},{inline:!0,label:"c#",permalink:"/develop/docs/tags/c"},{inline:!0,label:"java",permalink:"/develop/docs/tags/java"},{inline:!0,label:"javascript",permalink:"/develop/docs/tags/javascript"},{inline:!0,label:"php",permalink:"/develop/docs/tags/php"},{inline:!0,label:"python",permalink:"/develop/docs/tags/python"},{inline:!0,label:"ruby",permalink:"/develop/docs/tags/ruby"},{inline:!0,label:"typescript",permalink:"/develop/docs/tags/typescript"}],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"E-Invoice XML customization",slug:"e-invoice-xml-customisation",description:"Customize additional e-invoice XML fields",tags:["guides","issued document","invoice","e-invoice","sdi","xml","document type","code example","c#","java","javascript","php","python","ruby","typescript"]},sidebar:"tutorialSidebar",previous:{title:"E-Invoice management",permalink:"/develop/docs/scenario/e-invoice-management"},next:{title:"Join & Transform issued documents",permalink:"/develop/docs/scenario/invoice-join-transform"}},d={},u=[{value:"\ud83d\udcdc\xa0 The Official XML Structure",id:"scroll-the-official-xml-structure",level:2},{value:"\ud83c\udf61\xa0 The ei_raw flavours",id:"dango-the-ei_raw-flavours",level:2},{value:"\ud83d\udcc3\xa0 E-invoice body",id:"page_with_curl-e-invoice-body",level:2},{value:"\ud83c\udf5c\xa0 Items list",id:"ramen-items-list",level:2},{value:"\ud83d\udcb8\xa0 Payments list",id:"money_with_wings-payments-list",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["While ",(0,i.jsx)(n.a,{href:"/guides/invoice-creation.mdx",children:"creating an e-invoice"})," you could need to have more control over the XML that is generated through our APIs. On this page, we'll explain how to set up the ",(0,i.jsx)(n.strong,{children:"e-invoice advanced attributes"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"scroll-the-official-xml-structure",children:["\ud83d\udcdc","\xa0 The Official XML Structure"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"Official e-invoice XML structure"})," is directly defined by the Italian Public Administration, and can be found ",(0,i.jsx)(n.a,{href:"https://www.fatturapa.gov.it/export/documenti/fatturapa/v1.3/Rappresentazione-tabellare-fattura-ordinaria.pdf",children:"here"}),". This structure is subject to changes over time, and that's why we decided to manage some of these fields in a different way."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to know which additional attributes we support you can also read this ",(0,i.jsx)(n.a,{href:"https://help.fattureincloud.it/help/articolo/181",children:"page"}),". The ",(0,i.jsx)(n.em,{children:"TSE in Cloud Web App"})," lets you define these fields through dedicated components, so you can also check it to discover which attributes we support; we'll show you how to do it in the following sections."]}),"\n",(0,i.jsxs)(n.h2,{id:"dango-the-ei_raw-flavours",children:["\ud83c\udf61","\xa0 The ei_raw flavours"]}),"\n",(0,i.jsx)(n.p,{children:"If you already are familiar with creating e-invoices from our Web App, you already know that you can set advanced attributes in three different entities:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"E-invoice body"}),"\n",(0,i.jsx)(n.li,{children:"Items list"}),"\n",(0,i.jsx)(n.li,{children:"Payments list"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["While using our ",(0,i.jsx)(n.a,{href:"/api-reference#post-/c/-company_id-/issued_documents",children:"Create Issued Document"})," and ",(0,i.jsx)(n.a,{href:"/api-reference#put-/c/-company_id-/issued_documents/-document_id-",children:"Modify Issued Document"})," API methods, the fields provided by our model don't let you define all the fields available through our Web App: these advanced fields can instead be managed using the ",(0,i.jsx)(n.strong,{children:"ei_raw"})," params."]}),"\n",(0,i.jsx)(n.admonition,{title:"Strings everywhere!",type:"warning",children:(0,i.jsxs)(n.p,{children:["Keep in mind that every field in ei_raw is always managed as a ",(0,i.jsx)(n.strong,{children:"String"}),'! This means, for example, that even numbers must be inserted in String format (eg. "NumItem": "5")']})}),"\n",(0,i.jsxs)(n.h2,{id:"page_with_curl-e-invoice-body",children:["\ud83d\udcc3","\xa0 E-invoice body"]}),"\n",(0,i.jsx)(n.p,{children:"In our Web Interface, you can add your custom XML fields here:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Main body - Add Additional Attributes",src:t(2296).A+"",width:"497",height:"535"})}),"\n",(0,i.jsxs)(n.p,{children:["In our API, that section corresponds to the ",(0,i.jsx)(n.strong,{children:"data.ei_raw"})," field. Let's try to set up one of these attributes."]}),"\n",(0,i.jsxs)(n.p,{children:["For this example, we'll suppose to need to manage the ",(0,i.jsx)(n.em,{children:"NumItem field (2.1.5.4)"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"This is the structure declared by the Official Structure:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XML Tag Name"}),(0,i.jsx)(n.th,{children:"XML Tag ID"}),(0,i.jsx)(n.th,{children:"Occurrences"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FatturaElettronicaBody"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{children:"root"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DatiGenerali"}),(0,i.jsx)(n.td,{children:"2.1"}),(0,i.jsx)(n.td,{children:"<1,1>"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DatiRicezione"}),(0,i.jsx)(n.td,{children:"2.1.5"}),(0,i.jsx)(n.td,{children:"<0,N>"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"NumItem"}),(0,i.jsx)(n.td,{children:"2.1.5.4"}),(0,i.jsx)(n.td,{children:"<0,1>"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"This is the final XML that we want to obtain:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<FatturaElettronicaBody>\n  <DatiGenerali>\n    <DatiRicezione>\n      <NumItem>5</NumItem>\n    </DatiRicezione>\n  </DatiGenerali>\n</FatturaElettronicaBody>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.strong,{children:"ei_raw"})," field uses JSON instead of XML but uses a similar structure."]}),"\n",(0,i.jsx)(n.p,{children:"While mapping the XML structure to our JSON, you have to keep in mind a few things:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.em,{children:"FatturaElettronicaBody tag"})," is the ",(0,i.jsx)(n.strong,{children:"root"})," of our ei_raw field, and we accept only one instance of that in our e-invoices"]}),"\n",(0,i.jsxs)(n.li,{children:["For the root subfields, you need to check if the field is mandatory and its occurrences (check the ",(0,i.jsx)(n.strong,{children:"Obbligatoriet\xe0 e occorrenze"})," field in the official structure); if the field can have more than one occurrence then it must be represented as a ",(0,i.jsx)(n.em,{children:"JSON list"}),". For example, DatiRicezione is <0, N>: it means that it isn't mandatory and that it must be represented as a JSON list."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Mapping the XML shown above to our ei_raw JSON format we will obtain the following result:"}),"\n",(0,i.jsxs)(s.A,{groupId:"json-examples",children:[(0,i.jsx)(r.A,{value:"focused",label:"ei_raw only",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"ei_raw": {\n  "FatturaElettronicaBody": {\n    "DatiGenerali": {\n      "DatiRicezione": [\n        {\n          "NumItem": "5"\n        }\n      ]\n    }\n  }\n}\n'})})}),(0,i.jsx)(r.A,{value:"complete",label:"complete example",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "type": "invoice",\n    "entity": {\n      "name": "Mario Rossi"\n    },\n    "date": "2022-01-20",\n    "e_invoice": true,\n    "items_list": [\n      {\n        "product_id": 4,\n        "code": "TV3",\n        "name": "Tavolo in legno",\n        "net_price": 100,\n        "category": "cucina",\n        "discount": 0,\n        "qty": 1,\n        "vat": {\n          "id": 0\n        }\n      }\n    ],\n    "payment_method": {\n      "id": 386683\n    },\n    "payments_list": [\n      {\n        "amount": 122,\n        "due_date": "2022-01-23",\n        "paid_date": "2022-01-22",\n        "status": "paid",\n        "payment_account": {\n          "id": 110\n        }\n      }\n    ],\n    "ei_raw": {\n      "FatturaElettronicaBody": {\n        "DatiGenerali": {\n          "DatiRicezione": [\n            {\n              "NumItem": "5"\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"And here you can see how to set the ei_raw field with our SDKs:"}),"\n",(0,i.jsxs)(s.A,{groupId:"languages",children:[(0,i.jsx)(r.A,{value:"cs",label:"C# SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'IssuedDocument invoice = new IssuedDocument(\n    type: IssuedDocumentType.Invoice,\n    eiRaw: new {\n        FatturaElettronicaBody = new {\n            DatiGenerali = new {\n                DatiRicezione = new [] {\n                    new {\n                        NumItem = "5"\n                    }\n                }\n            }\n        }\n    }\n);\n'})})}),(0,i.jsx)(r.A,{value:"go",label:"Go SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'invoice := *fattureincloud.NewIssuedDocument().\n    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).\n    SetEiRaw(map[string]interface{}{\n        "FatturaElettronicaBody": map[string]interface{}{\n            "DatiGenerali": map[string]interface{}{\n                "DatiRicezione": []interface{}{\n                    map[string]interface{}{\n                        "NumItem": "5",\n                    },\n                },\n            },\n        },\n    },\n)\n'})})}),(0,i.jsx)(r.A,{value:"java",label:"Java SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Map<String, Map<String, Map<String, List<Map<String, String>>>>> eiRaw = Map.of(\n    "FatturaElettronicaBody", Map.of(\n        "DatiGenerali", Map.of(\n            "DatiRicezione",\n            Arrays.asList(\n                Map.of(\n                    "NumItem", "5"\n                )\n            )\n        )\n    )\n);\n\nIssuedDocument invoice = new IssuedDocument()\n        .type(IssuedDocumentType.INVOICE)\n        .eiRaw(eiRaw);\n'})})}),(0,i.jsx)(r.A,{value:"js",label:"JavaScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'let invoice = new fattureInCloudSdk.IssuedDocument();\ninvoice.type = new fattureInCloudSdk.IssuedDocumentType().invoice;\ninvoice.ei_raw = {\n  FatturaElettronicaBody: {\n    DatiGenerali: {\n      DatiRicezione: [\n        {\n          NumItem: "5",\n        },\n      ],\n    },\n  },\n};\n'})})}),(0,i.jsx)(r.A,{value:"php",label:"PHP SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'$invoice = new IssuedDocument();\n$invoice\n  ->setType(IssuedDocumentType::INVOICE);\n  ->setEiRaw(\n    [\n        "FatturaElettronicaBody" => [\n            "DatiGenerali" => [\n                "DatiRicezione" => [\n                    ["NumItem" => "5"]\n                ]\n            ]\n        ]\n    ]\n);\n'})})}),(0,i.jsx)(r.A,{value:"py",label:"Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'invoice = IssuedDocument(\n    type = IssuedDocumentType("invoice"),\n    ei_raw ={\n        "FatturaElettronicaBody": {\n            "DatiGenerali": {\n                "DatiRicezione": [\n                    {\n                        "NumItem": "5"\n                    }\n                ]\n            }\n        }\n    }\n)\n'})})}),(0,i.jsx)(r.A,{value:"rb",label:"Ruby SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",children:'invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(\n    type: FattureInCloud_Ruby_Sdk::IssuedDocumentType::INVOICE,\n    ei_raw: {\n        FatturaElettronicaBody: {\n            DatiGenerali: {\n                DatiRicezione: [\n                    {\n                        NumItem: "5"\n                    }\n                ]\n            }\n        }\n    }\n)\n'})})}),(0,i.jsx)(r.A,{value:"ts",label:"TypeScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'let invoice: IssuedDocument = {\n  type: IssuedDocumentType.Invoice,\n  ei_raw: {\n    FatturaElettronicaBody: {\n      DatiGenerali: {\n        DatiRicezione: [\n          {\n            NumItem: "5",\n          },\n        ],\n      },\n    },\n  },\n};\n'})})})]}),"\n",(0,i.jsxs)(n.h2,{id:"ramen-items-list",children:["\ud83c\udf5c","\xa0 Items list"]}),"\n",(0,i.jsx)(n.p,{children:"In our web interface, you can define advanced attributes for each of the inserted items:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Items list - Add advanced attributes",src:t(3247).A+"",width:"1049",height:"457"})}),"\n",(0,i.jsxs)(n.p,{children:["This section is mapped in our API methods in the ",(0,i.jsx)(n.strong,{children:"data.items_list.ei_raw"})," field. This field's behavior is similar to what was explained in the previous section, but in this case, the root tag is ",(0,i.jsx)(n.strong,{children:"DettaglioLinee (2.2.1)"}),"; this means that this is the first tag that we must represent in the item (you must ignore the parent nodes) and that there can be only one root tag per item."]}),"\n",(0,i.jsxs)(n.p,{children:["In the following example, we suppose that we need to set the ",(0,i.jsx)(n.strong,{children:"TipoDato field (2.2.1.16.2)"}),"; the following table contains the Official XML Structure for the field:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XML Tag Name"}),(0,i.jsx)(n.th,{children:"XML Tag ID"}),(0,i.jsx)(n.th,{children:"Occurrences"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FatturaElettronicaBody"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DatiBeniServizi"}),(0,i.jsx)(n.td,{children:"2.2"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DettaglioLinee"}),(0,i.jsx)(n.td,{children:"2.2.1"}),(0,i.jsx)(n.td,{children:"root"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"AltriDatiGestionali"}),(0,i.jsx)(n.td,{children:"2.2.1.16"}),(0,i.jsx)(n.td,{children:"<0,N>"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"TipoDato"}),(0,i.jsx)(n.td,{children:"2.2.1.16.2"}),(0,i.jsx)(n.td,{children:"<1,1>"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"This is the final XML that we want to obtain:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<FatturaElettronicaBody>\n  <DatiBeniServizi>\n    <DettaglioLinee>\n      <AltriDatiGestionali>\n        <TipoDato>TIPO_DATO</TipoDato>\n      </AltriDatiGestionali>\n    </DettaglioLinee>\n  </DatiBeniServizi>\n</FatturaElettronicaBody>\n"})}),"\n",(0,i.jsx)(n.p,{children:"While mapping this XML to our JSON, we have to keep in mind two things:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The root is the DettaglioLinee tag, so its parents must be omitted;"}),"\n",(0,i.jsx)(n.li,{children:"As explained before, AltriDatiGestionali can appear more than once, so it must be represented as a JSON list."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The resulting JSON will be the following one:"}),"\n",(0,i.jsxs)(s.A,{groupId:"json-examples",children:[(0,i.jsx)(r.A,{value:"focused",label:"ei_raw only",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"ei_raw": {\n  "DettaglioLinee": {\n    "AltriDatiGestionali": [\n      {\n        "TipoDato": "TIPO_DATO"\n      }\n    ]\n  }\n}\n'})})}),(0,i.jsx)(r.A,{value:"complete",label:"complete example",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "type": "invoice",\n    "entity": {\n      "name": "Mario Rossi"\n    },\n    "date": "2022-01-20",\n    "e_invoice": true,\n    "items_list": [\n      {\n        "product_id": 4,\n        "code": "TV3",\n        "name": "Tavolo in legno",\n        "net_price": 100,\n        "category": "cucina",\n        "discount": 0,\n        "qty": 1,\n        "vat": {\n          "id": 0\n        },\n        "ei_raw": {\n          "DettaglioLinee": {\n            "AltriDatiGestionali": [\n              {\n                "TipoDato": "TIPO_DATO"\n              }\n            ]\n          }\n        }\n      }\n    ],\n    "payment_method": {\n      "id": 386683\n    },\n    "payments_list": [\n      {\n        "amount": 122,\n        "due_date": "2022-01-23",\n        "paid_date": "2022-01-22",\n        "status": "paid",\n        "payment_account": {\n          "id": 110\n        }\n      }\n    ],\n    "ei_raw": {\n      "FatturaElettronicaBody": {\n        "DatiGenerali": {\n          "DatiRicezione": [\n            {\n              "NumItem": "5"\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"And here you can see how to set the ei_raw field with our SDKs:"}),"\n",(0,i.jsxs)(s.A,{groupId:"languages",children:[(0,i.jsx)(r.A,{value:"cs",label:"C# SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'IssuedDocument invoice = new IssuedDocument(\n    itemsList: new List < IssuedDocumentItemsListItem > {\n        new IssuedDocumentItemsListItem(\n            productId: 4,\n            eiRaw: new {\n                DettaglioLinee = new {\n                    AltriDatiGestionali = new [] {\n                        new {\n                            TipoDato = "TIPO DATO"\n                        }\n                    }\n                }\n            }\n        )\n    }\n);\n'})})}),(0,i.jsx)(r.A,{value:"go",label:"Go SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'invoice := *fattureincloud.NewIssuedDocument().\n    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).\n    SetEiRaw(map[string]interface{}{\n        "ei_raw": map[string]interface{}{\n            "DettaglioLinee": map[string]interface{}{\n                "AltriDatiGestionali": []interface{}{\n                    map[string]interface{}{\n                        "TipoDato": "TIPO_DATO",\n                    },\n                },\n            },\n        },\n    },\n)\n'})})}),(0,i.jsx)(r.A,{value:"java",label:"Java SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Map<String, Map<String, List<Map<String, String>>>> eiRaw = Map.of(\n    "DettaglioLinee", Map.of(\n        "AltriDatiGestionali",\n        Arrays.asList(\n            Map.of(\n                "TipoDato", "TIPO DATO"\n            )\n        )\n    )\n);\n\nIssuedDocument invoice = new IssuedDocument()\n    .addItemsListItem(\n        new IssuedDocumentItemsListItem()\n            .productId(4)\n            .eiRaw(eiRaw)\n    );\n'})})}),(0,i.jsx)(r.A,{value:"js",label:"JavaScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'let invoice = new fattureInCloudSdk.IssuedDocument();\ninvoice.items_list = [\n  {\n    product_id: 4,\n    ei_raw: {\n      DettaglioLinee: {\n        AltriDatiGestionali: [\n          {\n            TipoDato: "TIPO_DATO",\n          },\n        ],\n      },\n    },\n  },\n];\n'})})}),(0,i.jsx)(r.A,{value:"php",label:"PHP SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'$invoice = new IssuedDocument();\n$invoice->setItemsList(\n    [\n        new IssuedDocumentItemsListItem(\n            [\n                "product_id" => 4,\n                "ei_raw" => [\n                    "DettaglioLinee" => [\n                        "AltriDatiGestionali" => [\n                          [\n                            "TipoDato" => "TIPO_DATO"\n                          ]\n                        ]\n                    ]\n                ]\n            ]\n        )\n    ]\n);\n'})})}),(0,i.jsx)(r.A,{value:"py",label:"Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'invoice = IssuedDocument(\n    items_list = [\n        IssuedDocumentItemsListItem(\n            product_id=4,\n            ei_raw={\n                "DettaglioLinee": {\n                    "AltriDatiGestionali": [\n                        {\n                            "TipoDato": "TIPO_DATO"\n                        }\n                    ]\n                }\n            }\n        )\n    ]\n)\n'})})}),(0,i.jsx)(r.A,{value:"rb",label:"Ruby SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",children:'invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(\n    items_list: Array(\n      FattureInCloud_Ruby_Sdk::IssuedDocumentItemsListItem.new(\n            product_id: 4,\n            ei_raw: {\n                DettaglioLinee: {\n                    AltriDatiGestionali: [\n                        {\n                            NumItem: "5"\n                        }\n                    ]\n                }\n            }\n        )\n    )\n)\n'})})}),(0,i.jsx)(r.A,{value:"ts",label:"TypeScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'let invoice: IssuedDocument = {\n  items_list: [\n    {\n      product_id: 4,\n      ei_raw: {\n        DettaglioLinee: {\n          AltriDatiGestionali: [\n            {\n              TipoDato: "TIPO_DATO",\n            },\n          ],\n        },\n      },\n    },\n  ],\n};\n'})})})]}),"\n",(0,i.jsxs)(n.h2,{id:"money_with_wings-payments-list",children:["\ud83d\udcb8","\xa0 Payments list"]}),"\n",(0,i.jsx)(n.p,{children:"In our web interface, you can define advanced attributes for each of the inserted payments:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Payments list - Add advanced attributes",src:t(6752).A+"",width:"1051",height:"209"})}),"\n",(0,i.jsxs)(n.p,{children:["This section is mapped in our API methods in the ",(0,i.jsx)(n.strong,{children:"data.payments_list.ei_raw"})," field. This field's behavior is similar to what was explained in the previous section, but in this case, the root tag is ",(0,i.jsx)(n.strong,{children:"DettaglioPagamento (2.4.2)"}),"; this means that this is the first tag that we must represent in the item (you must ignore the parent nodes) and that there can be only one root tag per item."]}),"\n",(0,i.jsxs)(n.p,{children:["In the following example, we suppose that we need to set the ",(0,i.jsx)(n.strong,{children:"CAB field (2.4.2.15)"}),"; the following table contains the Official XML Structure for the field:"]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"XML Tag Name"}),(0,i.jsx)(n.th,{children:"XML Tag ID"}),(0,i.jsx)(n.th,{children:"Occurrences"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"FatturaElettronicaBody"}),(0,i.jsx)(n.td,{children:"2"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DatiPagamento"}),(0,i.jsx)(n.td,{children:"2.4"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"DettaglioPagamento"}),(0,i.jsx)(n.td,{children:"2.4.2"}),(0,i.jsx)(n.td,{children:"root"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"CAB"}),(0,i.jsx)(n.td,{children:"2.4.2.15"}),(0,i.jsx)(n.td,{children:"<0,1>"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"This is the final XML that we want to obtain:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:"<FatturaElettronicaBody>\n  <DatiPagamento>\n    <DettaglioPagamento>\n      <CAB>CAB</CAB>\n    </DettaglioPagamento>\n  </DatiPagamento>\n</FatturaElettronicaBody>\n"})}),"\n",(0,i.jsx)(n.p,{children:"While mapping this XML to our JSON, we have to omit the root's parent tags, as already explained above."}),"\n",(0,i.jsx)(n.p,{children:"The resulting JSON will be the following one:"}),"\n",(0,i.jsxs)(s.A,{groupId:"json-examples",children:[(0,i.jsx)(r.A,{value:"focused",label:"ei_raw only",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"ei_raw": {\n  "DettaglioPagamento": {\n    "CAB": "CAB"\n  }\n}\n'})})}),(0,i.jsx)(r.A,{value:"complete",label:"complete example",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "data": {\n    "type": "invoice",\n    "entity": {\n      "name": "Mario Rossi"\n    },\n    "date": "2022-01-20",\n    "e_invoice": true,\n    "items_list": [\n      {\n        "product_id": 4,\n        "code": "TV3",\n        "name": "Tavolo in legno",\n        "net_price": 100,\n        "category": "cucina",\n        "discount": 0,\n        "qty": 1,\n        "vat": {\n          "id": 0\n        },\n        "ei_raw": {\n          "DettaglioLinee": {\n            "AltriDatiGestionali": [\n              {\n                "TipoDato": "TIPO_DATO"\n              }\n            ]\n          }\n        }\n      }\n    ],\n    "payment_method": {\n      "id": 386683\n    },\n    "payments_list": [\n      {\n        "amount": 122,\n        "due_date": "2022-01-23",\n        "paid_date": "2022-01-22",\n        "status": "paid",\n        "payment_account": {\n          "id": 110\n        },\n        "ei_raw": {\n          "DettaglioPagamento": {\n            "CAB": "CAB"\n          }\n        }\n      }\n    ],\n    "ei_raw": {\n      "FatturaElettronicaBody": {\n        "DatiGenerali": {\n          "DatiRicezione": [\n            {\n              "NumItem": "5"\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n'})})})]}),"\n",(0,i.jsx)(n.p,{children:"And here you can see how to set the ei_raw field with our SDKs:"}),"\n",(0,i.jsxs)(s.A,{groupId:"languages",children:[(0,i.jsx)(r.A,{value:"cs",label:"C# SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cs",children:'IssuedDocument invoice = new IssuedDocument(\n    paymentsList: new List < IssuedDocumentPaymentsListItem > {\n        new IssuedDocumentPaymentsListItem(\n            amount: 122,\n            eiRaw: new {\n                DettaglioPagamento = new {\n                    CAB = "CAB"\n                }\n            }\n        )\n    }\n);\n'})})}),(0,i.jsx)(r.A,{value:"go",label:"Go SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-go",children:'invoice := *fattureincloud.NewIssuedDocument().\n    SetType(fattureincloud.IssuedDocumentTypes.INVOICE).\n    SetEiRaw(map[string]interface{}{\n        "DettaglioPagamento": map[string]interface{}{\n            "CAB": "CAB",\n        },\n    },\n)\n'})})}),(0,i.jsx)(r.A,{value:"java",label:"Java SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-java",children:'Map<String, Map<String, String>> eiRaw = Map.of(\n    "DettaglioPagamento", Map.of(\n        "CAB", "CAB"\n    )\n);\n\nIssuedDocument invoice = new IssuedDocument()\n    .addPaymentsListItem(\n        new IssuedDocumentPaymentsListItem()\n            .amount(BigDecimal.valueOf(122))\n            .eiRaw(eiRaw)\n    );\n'})})}),(0,i.jsx)(r.A,{value:"js",label:"JavaScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'let invoice = new fattureInCloudSdk.IssuedDocument();\ninvoice.payments_list = [\n  {\n    amount: 122,\n    ei_raw: {\n      DettaglioPagamento: {\n        CAB: "CAB",\n      },\n    },\n  },\n];\n'})})}),(0,i.jsx)(r.A,{value:"php",label:"PHP SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-php",children:'$invoice = new IssuedDocument();\n$invoice->setPaymentsList(\n    [\n        new IssuedDocumentPaymentsListItem(\n            [\n                "amount" => 122,\n                "ei_raw" => [\n                    "DettaglioPagamento" => [\n                        "CAB" => "CAB"\n                    ]\n                ]\n            ]\n        )\n    ]\n);\n'})})}),(0,i.jsx)(r.A,{value:"py",label:"Python SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-py",children:'invoice = IssuedDocument(\n    payments_list = [\n        IssuedDocumentPaymentsListItem(\n            amount=122,\n            ei_raw={\n                "DettaglioPagamento": {\n                    "CAB": "CAB"\n                }\n            }\n        )\n    ]\n)\n'})})}),(0,i.jsx)(r.A,{value:"rb",label:"Ruby SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-rb",children:'invoice = FattureInCloud_Ruby_Sdk::IssuedDocument.new(\n    payments_list: Array(\n      FattureInCloud_Ruby_Sdk::IssuedDocumentPaymentsListItem.new(\n            amount: 122,\n            ei_raw: {\n                DettaglioPagamento: {\n                    CAB: "CAB"\n                }\n            }\n        )\n    )\n)\n'})})}),(0,i.jsx)(r.A,{value:"ts",label:"TypeScript SDK",children:(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'let invoice: IssuedDocument = {\n  payments_list: [\n    {\n      amount: 122,\n      ei_raw: {\n        DettaglioPagamento: {\n          CAB: "CAB",\n        },\n      },\n    },\n  ],\n};\n'})})})]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>r});t(6540);var i=t(4164);const a={tabItem:"tabItem_Ymn6"};var s=t(4848);function r(e){let{children:n,hidden:t,className:r}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,r),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>D});var i=t(6540),a=t(4164),s=t(3104),r=t(6347),l=t(205),o=t(7485),c=t(1682),d=t(679);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:a}}=e;return{value:n,label:t,attributes:i,default:a}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function m(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const a=(0,r.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(a.location.search);n.set(s,e),a.replace({...a.location,search:n.toString()})}),[s,a])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,s=h(e),[r,o]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!m({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[c,u]=p({queryString:t,groupId:a}),[x,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,s]=(0,d.Dv)(t);return[a,(0,i.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:a}),j=(()=>{const e=c??x;return m({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{j&&o(j)}),[j]);return{selectedValue:r,selectValue:(0,i.useCallback)((e=>{if(!m({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=t(2303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var v=t(4848);function f(e){let{className:n,block:t,selectedValue:i,selectValue:r,tabValues:l}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),d=e=>{const n=e.currentTarget,t=o.indexOf(n),a=l[t].value;a!==i&&(c(n),r(a))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,v.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,v.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>o.push(e),onKeyDown:u,onClick:d,...s,className:(0,a.A)("tabs__item",j.tabItem,s?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:s}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,v.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function b(e){const n=x(e);return(0,v.jsxs)("div",{className:(0,a.A)("tabs-container",j.tabList),children:[(0,v.jsx)(f,{...n,...e}),(0,v.jsx)(y,{...n,...e})]})}function D(e){const n=(0,g.A)();return(0,v.jsx)(b,{...e,children:u(e.children)},String(n))}},2296:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/einvoice-body-ei-raw-704910373e398c907546042ff773f87c.png"},3247:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/einvoice-items-list-ei-raw-6408536f8db066525b4ba0a1e04483e1.png"},6752:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/einvoice-payments-list-ei-raw-c9d5e398a2dcebf9b19741e2697b9f89.png"},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>l});var i=t(6540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);